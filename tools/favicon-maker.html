<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Favicon Maker</title>
    <style>
        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            margin: 0;
            padding: 16px;
        }
        .row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
        }
        canvas {
            width: 128px;
            height: 128px;
            border: 1px solid #ddd;
            border-radius: 12px;
        }
        label {
            display: grid;
            gap: 6px;
            font-size: 14px;
        }
        input, button {
            padding: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>Favicon & App Icons</h1>
    <p>
        Click to download each size. Save files into <code>assets/</code>.
        Then add the links below to your HTML.
    </p>

    <div class="row">
        <div>
            <label>
                Background color
                <input id="bg" type="color" value="#111111" />
            </label>
            <label>
                Text
                <input id="txt" value="DW" maxlength="3" />
            </label>
            <label>
                Text color
                <input id="fg" type="color" value="#ffffff" />
            </label>
            <button id="refresh">Refresh</button>
        </div>
        <div>
            <canvas id="c192" width="192" height="192"></canvas>
            <button onclick="dl('icon-192.png',document.getElementById('c192'))">Download 192×192</button>
        </div>
        <div>
            <canvas id="c512" width="512" height="512"></canvas>
            <button onclick="dl('icon-512.png',document.getElementById('c512'))">Download 512×512</button>
            <div style="height:8px"></div>
            <canvas id="c32" width="32" height="32"></canvas>
            <button onclick="dl('favicon-32.png',document.getElementById('c32'))">Download 32×32</button>
            <div style="height:8px"></div>
            <canvas id="c16" width="16" height="16"></canvas>
            <button onclick="dl('favicon-16.png',document.getElementById('c16'))">Download 16×16</button>
        </div>
    </div>

    <script>
        const bg = document.getElementById('bg');
        const fg = document.getElementById('fg');
        const txt = document.getElementById('txt');
        const canvases = ['c512', 'c192', 'c32', 'c16'].map(id => document.getElementById(id));

        function render() {
            canvases.forEach(c => {
                const ctx = c.getContext('2d');
                ctx.clearRect(0, 0, c.width, c.height);
                ctx.fillStyle = bg.value;
                ctx.beginPath();
                ctx.arc(c.width / 2, c.height / 2, c.width / 2, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = fg.value;
                const fontSize = Math.round(c.width * 0.46);
                ctx.font = `800 ${fontSize}px Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(txt.value, c.width / 2, c.height / 2 + c.height * 0.04);
            });
        }

        function dl(name, canvas) {
            const a = document.createElement('a');
            a.href = canvas.toDataURL('image/png');
            a.download = name;
            a.click();
        }

        document.getElementById('refresh').addEventListener('click', render);
        render();
    </script>
</body>
</html>
