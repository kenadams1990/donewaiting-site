<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Every Child Deserves to Come Home — Done Waiting</title>
  <link rel="canonical" href="https://www.donewaiting.us/" />

<!-- BEGIN Social cards (canonical = www) -->
<meta property="og:title" content="Every Child Deserves to Come Home" />
<meta property="og:description" content="Petition to Washington: launch a national pilot so every school has a trained, certified safety professional working with mental-health teams. Add your name." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.donewaiting.us/" />
<meta property="og:image" content="https://www.donewaiting.us/backpacks-hero-clean.png" />
<meta property="og:image:secure_url" content="https://www.donewaiting.us/backpacks-hero-clean.png" />
<meta property="og:image:alt" content="Backpacks lined up along a school hallway" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Every Child Deserves to Come Home" />
<meta name="twitter:description" content="Petition to Washington: launch a national pilot so every school has a trained, certified safety professional working with mental-health teams. Add your name." />
<meta name="twitter:image" content="https://www.donewaiting.us/backpacks-hero-clean.png" />
<!-- END Social cards -->

  <link rel="preload" as="image" href="/backpacks-hero-clean.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html,body{height:100%}
    .safe-bottom{padding-bottom: env(safe-area-inset-bottom)}
    .safe-top{padding-top: env(safe-area-inset-top)}
  </style>
</head>
<body class="min-h-full bg-neutral-950 text-neutral-100 selection:bg-amber-400 selection:text-neutral-950 safe-bottom">
<!-- Fixed D.C. banner (compact, identical copy) -->
<style>
  #dc-banner {
    position: fixed; top: 0; left: 0; right: 0; z-index: 60;
    padding: calc(env(safe-area-inset-top, 0px) + 6px) 10px 8px;
    background: linear-gradient(180deg, rgba(225,29,72,.96), rgba(225,29,72,.90));
    color: #fff; text-align: center; border-bottom: 1px solid rgba(255,255,255,.25);
    font: 600 12.5px/1.3 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  }
  #dc-banner .inner { max-width: 1100px; margin: 0 auto; }
  .with-top-banner { padding-top: var(--banner-offset, 64px); }
  @media (min-width: 640px) { #dc-banner { font-size: 14px; } }
</style>
<div id="dc-banner" role="region" aria-label="Call to action: petition headed to D.C.">
  <div class="inner">
    <span>Petition headed to D.C. Fund a national pilot: one trained, certified safety pro in every school.</span>
    <!-- set href per page as noted below -->
    <a id="banner-cta" href="#petition"
   style="display:inline-block;margin-left:10px;padding:6px 10px;border-radius:999px;background:#fff;color:#111;font-weight:800;text-decoration:none;white-space:nowrap;">
  Add your name
</a>
  </div>
</div>
<script>
  (function () {
    const b = document.getElementById('dc-banner');
    function setOffset(){ document.body.style.setProperty('--banner-offset', b.offsetHeight + 'px'); document.body.classList.add('with-top-banner'); }
    setOffset(); new ResizeObserver(setOffset).observe(b);
  })();
  // page-specific link target (set below)
</script>
<script>document.getElementById('banner-cta').setAttribute('href', '#petition');</script>
<!-- /Fixed D.C. banner -->

  <!-- Site-wide fixed background (stays put; content scrolls). Mobile darker for contrast -->
  <div class="fixed inset-0 -z-10">
    <div class="absolute inset-0 bg-[url('/backpacks-hero-clean.png')] bg-cover bg-center"></div>
    <div class="absolute inset-0 bg-gradient-to-b from-neutral-950/10 via-neutral-950/15 to-neutral-950/20 sm:from-neutral-950/8 sm:via-neutral-950/12 sm:to-neutral-950/16 md:from-neutral-950/5 md:via-neutral-950/10 md:to-neutral-950/15"></div>
  </div>

  <a href="#petition" class="sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-2 focus:z-50 focus:rounded-full focus:px-4 focus:py-2 focus:bg-amber-400 focus:text-neutral-900">Skip to petition</a>

  <!-- Hero -->
  <header class="relative overflow-hidden border-b border-neutral-800">
    <div class="relative mx-auto max-w-5xl px-5 sm:px-6 pt-16 pb-12 md:pt-20 md:pb-14 min-h-[60svh] flex items-end">
      <div class="relative z-0 w-full text-left sm:text-center">
        <div aria-hidden="true" class="sm:hidden pointer-events-none absolute -z-10 inset-x-0 top-[-10px] bottom-[-12px] mx-auto max-w-[720px] rounded-3xl bg-gradient-to-b from-neutral-950/55 via-neutral-950/40 to-transparent"></div>
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-semibold leading-tight">Protect Every Child. Every School. Every Day.</h1>
        <p class="mt-3 text-neutral-200 text-base sm:text-lg max-w-2xl sm:max-w-3xl sm:mx-auto">Show support for a trained, certified safety professional in every school. Clear standards. Local implementation. Not the only answer, but a practical floor to protect kids now.</p>

        <!-- Two-step CTA -->
        <section id="two-steps" class="mt-8">
          <p class="text-neutral-200 text-center max-w-3xl mx-auto">
            Two quick steps and you push this forward: add your name, then share it so this reaches Washington with real momentum.
          </p>
          <div class="mt-5 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 max-w-lg mx-auto">
            <a href="#petition" aria-label="Sign the petition"
               class="w-full inline-flex items-center justify-center rounded-full bg-amber-400 px-6 py-3.5 font-extrabold text-neutral-900 text-lg shadow hover:brightness-95 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral-300">
              Step 1 · Sign
            </a>
            <a href="/thank-you.html" aria-label="Share the petition"
               class="w-full inline-flex items-center justify-center rounded-full bg-amber-400 px-6 py-3.5 font-extrabold text-neutral-900 text-lg shadow hover:brightness-95 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral-300">
              Step 2 · Share
            </a>
          </div>
        </section>
        <!-- /Two-step CTA -->
      </div>
    </div>
  </header>

  <main>
<!-- Essential Staff (clean, transparent, no pills/CTA) -->
<section id="essential" class="bg-transparent border-b border-neutral-800/60">
  <div class="mx-auto max-w-5xl px-5 sm:px-6 py-8">

    <h2 class="mt-2 text-2xl sm:text-3xl font-semibold tracking-tight">
      Make School Safety Essential Staff
    </h2>

    <p class="mt-3 text-neutral-300 text-base sm:text-lg max-w-3xl">
      We treat teachers, nurses, and firefighters as essential. School safety deserves the same standard.
      A trained, certified safety professional on every campus isn’t a luxury. It’s core staffing to prevent,
      prepare, and protect.
    </p>

    <ul class="mt-5 grid gap-2 sm:grid-cols-2 text-neutral-200 text-sm">
      <li class="list-disc ml-5">Full-time focus on prevention, preparation, and protection.</li>
      <li class="list-disc ml-5">Coordinates drills, entry control, reunification plans.</li>
      <li class="list-disc ml-5">Trains staff and students on current best practices.</li>
      <li class="list-disc ml-5">Audits daily procedures and closes gaps fast.</li>
      <li class="list-disc ml-5">Partners with local fire and police for joint readiness.</li>
      <li class="list-disc ml-5">Tracks metrics and reports progress to districts and parents.</li>
    </ul>
  </div>
</section>
<!-- /Essential Staff -->

    <!-- Truth / positioning (lean, 3-card) -->
    <section id="truth" class="border-b border-neutral-800">
      <div class="mx-auto max-w-5xl px-5 sm:px-6 py-10">
        <div id="truth-cards" class="mt-0 grid gap-4 sm:gap-5 sm:grid-cols-2 md:grid-cols-3 scroll-mt-24">
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
            <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">The gap today</div>
            <h3 class="text-lg font-medium mb-2">Why status quo fails</h3>
            <ul class="list-disc pl-5 space-y-1 text-neutral-200 text-sm">
              <li>No single owner for on-campus safety during the school day.</li>
              <li>Open/unguarded entry points and inconsistent visitor control.</li>
              <li>Slow, confused response and unclear roles under stress.</li>
              <li>Irregular drills and uneven coordination across staff.</li>
            </ul>
          </div>

          <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
            <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">The baseline</div>
            <h3 class="text-lg font-medium mb-2">What this adds now</h3>
            <ul class="list-disc pl-5 space-y-1 text-neutral-200 text-sm">
              <li>Full-time, <strong>trained and certified</strong> safety professional on campus.</li>
              <li>Controlled single-point entry and consistent visitor verification.</li>
              <li>Clear roles, regular intruder-response practice, real coordination.</li>
              <li>Works alongside <span class="whitespace-nowrap">counselors, psychologists, social workers</span>.</li>
              <li><strong>Vendor-neutral standard</strong> for training/certification, updated annually with metrics.</li>
            </ul>
          </div>

          <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
            <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">Not this</div>
            <h3 class="text-lg font-medium mb-2">What this is not</h3>
            <ul class="list-disc pl-5 space-y-1 text-neutral-200 text-sm">
              <li>Not arming teachers or staff.</li>
              <li>Not volunteers, stipends, or part-time hall monitors.</li>
              <li>Not a partisan project; it’s basic safety ops.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Numbers / comparables / cost -->
    <section id="numbers" class="border-b border-neutral-800">
      <div class="mx-auto max-w-5xl px-5 sm:px-6 py-10">
        <h2 class="text-2xl sm:text-3xl font-semibold tracking-tight mb-4">What we already spend to keep people safe</h2>
        <div class="grid gap-4 sm:gap-5 md:grid-cols-2">
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
            <table class="w-full text-sm">
              <thead>
                <tr>
                  <th scope="col" class="text-left py-2 pr-4 font-semibold text-neutral-300">Agency</th>
                  <th scope="col" class="text-right py-2 font-semibold text-neutral-300">FY2025 request</th>
                </tr>
              </thead>
              <tbody id="compsRows"></tbody>
            </table>
            <p class="mt-2 text-xs text-neutral-300">Rounded from official FY2025 DHS component budget overviews.</p>
          </div>
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
            <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">Trained, certified safety role</div>
            <h3 class="text-lg font-medium mb-2">Ballpark annual cost</h3>
            <div class="text-3xl font-semibold" id="safetyCost">—</div>
            <p class="mt-3 text-sm text-neutral-300"><span id="safetyCount">—</span> based on a simple model that includes salary and overhead. The point: this is doable.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- International examples (neutral, factual) -->
    <section id="international" class="border-b border-neutral-800">
      <div class="mx-auto max-w-5xl px-5 sm:px-6 py-10">
        <h2 class="text-2xl sm:text-3xl font-semibold tracking-tight mb-4">What other countries implemented</h2>
        <p class="text-neutral-300 mb-6 text-base sm:text-lg">After high‑profile school attacks, several countries moved quickly to tighten on‑campus safety. The examples below are not about politics. They show common operational steps: controlled entry, trained adults at the door, and practice.</p>
        <div class="grid gap-4 sm:gap-5 sm:grid-cols-2">
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
            <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">Japan (2001)</div>
            <h3 class="text-lg font-medium mb-2">After the Osaka school attack</h3>
            <ul class="list-disc pl-5 space-y-1 text-neutral-200">
              <li>Locked gates and single controlled entry during the school day.</li>
              <li>Visitor verification and badges at the office before entry.</li>
              <li>Regular intruder‑response drills and staff coordination.</li>
              <li>Closer liaison between schools and local police and community volunteers.</li>
            </ul>
            <p class="mt-3 text-sm text-neutral-300">These are operational measures; normal instruction continued.</p>
          </div>
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
            <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">China (2010)</div>
            <h3 class="text-lg font-medium mb-2">Following multiple school attacks</h3>
            <ul class="list-disc pl-5 space-y-1 text-neutral-200">
              <li>Security presence at school gates during arrivals and class hours.</li>
              <li>ID checks and visitor screening before entry.</li>
              <li>Coordination with local police for patrols near campuses.</li>
              <li>Physical entry controls at main gates; side doors closed during the day.</li>
            </ul>
            <p class="mt-3 text-sm text-neutral-300">Routine gate staffing and entry control became standard practice in major cities.</p>
          </div>
        </div>
        <div class="mt-6 space-y-6">
          <p class="text-sm text-neutral-300">The point is action, not ideology: a basic floor of one trained safety professional per school and controlled access, implemented locally.</p>
          <div class="grid gap-4 sm:grid-cols-2">
            <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
              <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">Japan: outcomes</div>
              <ul class="list-disc pl-5 space-y-1 text-neutral-200 text-sm">
                <li>After the 2001 Ikeda attack, national directives added entrance control, patrols and drills across schools.</li>
                <li>Since then, fatal in‑school intruder attacks have been exceptional; Ikeda remains the deadliest on‑campus school attack.</li>
              </ul>
              <p class="mt-3 text-xs text-neutral-300">Refs: MEXT guidance (2001–2002) and major press retrospectives noting rarity of comparable on‑campus attacks.</p>
            </div>
            <div class="rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 backdrop-blur">
              <div class="text-sm uppercase tracking-wider text-neutral-300 mb-1">China: outcomes</div>
              <ul class="list-disc pl-5 space-y-1 text-neutral-200 text-sm">
                <li>After the spring 2010 cluster, authorities ordered patrols and gate staffing; by 2013, schools were told to have at least one full‑time guard.</li>
                <li>Cities reported large deployments and on‑campus fatal attacks became less frequent than the 2010 spike.</li>
              </ul>
              <p class="mt-3 text-xs text-neutral-300">Refs: contemporaneous reporting and later policy notices.</p>
            </div>
          </div>
          <p class="text-xs text-neutral-300">Source notes: Japan Ministry of Education safety directives after Ikeda; reporting on intruder drills; 2010–2013 China measures including police patrols and guard requirements. This section describes operational changes, not politics.</p>
        </div>
      </div>
    </section>

    <!-- Petition form -->
    <section id="petition" class="border-b border-neutral-800">
      <div class="mx-auto max-w-5xl px-5 sm:px-6 py-10">
        <h2 class="text-2xl sm:text-3xl font-semibold tracking-tight mb-4">Add Your Name to Push for Real Options</h2>
       <form id="petitionForm" method="POST"
      action="https://api.donewaiting.us/api/sign?redirect=https://www.donewaiting.us/thank-you.html"
      class="mt-6 grid gap-4">

  <div class="grid gap-2 sm:grid-cols-2">
    <input type="text" name="first" aria-label="First name" autocomplete="given-name" required placeholder="First name" class="rounded-2xl bg-neutral-900/60 border border-neutral-800 px-4 py-3 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400" />
    <input type="text" name="last" aria-label="Last name" autocomplete="family-name" required placeholder="Last name" class="rounded-2xl bg-neutral-900/60 border border-neutral-800 px-4 py-3 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400" />
  </div>

  <input type="email" name="email" aria-label="Email address" autocomplete="email" required placeholder="Email" class="rounded-2xl bg-neutral-900/60 border border-neutral-800 px-4 py-3 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400" />

  <div class="grid gap-2 sm:grid-cols-2">
    <input type="text" name="state" inputmode="text" maxlength="2" placeholder="State (2-letter)" class="rounded-2xl bg-neutral-900/60 border border-neutral-800 px-4 py-3 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400" aria-label="State two-letter code" />
    <select name="role" class="rounded-2xl bg-neutral-900/60 border border-neutral-800 px-4 py-3 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400" aria-label="Your role">
      <option value="">Role (optional)</option>
      <option>Parent/Guardian</option>
      <option>Educator/Staff</option>
      <option>Administrator</option>
      <option>Student</option>
      <option>Concerned citizen</option>
    </select>
  </div>

  <!-- give the textarea an explicit accessible name -->
  <label for="message" class="sr-only">Optional note for lawmakers</label>
  <textarea id="message" name="message" aria-label="Optional note for lawmakers"
            rows="3" placeholder="Optional note for lawmakers"
            class="rounded-2xl bg-neutral-900/60 border border-neutral-800 px-4 py-3 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400"></textarea>

  <button type="submit" class="rounded-2xl bg-amber-400 text-neutral-950 px-6 py-3 font-semibold hover:bg-amber-300 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400">
    Add your name
  </button>
</form>
        <div class="mt-4 flex flex-wrap items-center gap-3">
          <button id="copyLinkSmall" class="rounded-2xl border border-neutral-800 bg-neutral-900/60 px-4 py-2 text-sm backdrop-blur focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral-300">Copy petition link</button>
        </div>
      </div>
    </section>

    <!-- Disclaimer -->
    <section id="disclaimer" class="border-t border-neutral-800">
      <div class="mx-auto max-w-5xl px-5 sm:px-6 py-8">
        <p class="text-xs text-neutral-300">Disclaimer: This page is a prototype example to illustrate a baseline safety role. It is not the full mission or policy platform. International references are illustrative, not prescriptive.</p>
      </div>
    </section>
  </main>

  <footer class="border-t border-neutral-800">
    <div class="mx-auto max-w-5xl px-5 sm:px-6 py-10">
      <p class="text-sm text-neutral-300">© <span id="year"></span> Done Waiting</p>
    </div>
  </footer>

  <!-- Data constants -->
  <script>
    window.COMPS = [
      { label: "Airport screening (TSA)", amount: 11800000000, href: "https://www.dhs.gov/sites/default/files/2024-04/2024_0318_transportation_security_administration.pdf" },
      { label: "U.S. Customs and Border Protection (CBP)", amount: 19800000000, href: "https://www.dhs.gov/sites/default/files/2024-04/2024_0314_us_customs_and_border_protection.pdf" },
      { label: "U.S. Coast Guard", amount: 13800000000, href: "https://www.dhs.gov/sites/default/files/2024-04/2024_0322_us_coast_guard.pdf" }
    ];

    window.SAFETY = { schools: 130000, coverage: 1.0, salary: 65000, overhead: 0.25 };
  </script>

  <!-- Renderers and utils -->
  <script>
    const fmt = n => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(n);

    const compsRows = document.getElementById('compsRows');
    if (compsRows) {
      compsRows.innerHTML = window.COMPS
        .map(x => `<tr>
          <th scope=\"row\" class=\"py-2 pr-4 font-normal text-neutral-200\">
            <a href=\"${x.href}\" target=\"_blank\" rel=\"noopener\" class=\"underline decoration-neutral-500/40 underline-offset-2 hover:decoration-neutral-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-400\">${x.label}</a>
          </th>
          <td class=\"py-2 text-right tabular-nums\">${fmt(x.amount)}</td>
        </tr>`).join("");
    }

    const s = window.SAFETY;
    const headcount = Math.round(s.schools * s.coverage);
    const base = headcount * s.salary;
    const total = Math.round(base * (1 + s.overhead));
    const countEl = document.getElementById('safetyCount');
    const costEl  = document.getElementById('safetyCost');
    if (countEl) countEl.textContent = headcount.toLocaleString() + " people";
    if (costEl)  costEl.textContent  = fmt(total) + " / year";

    const sigHero = document.getElementById('sigCountHero');
    const sigChip = document.getElementById('sigCount');
    function animateCount(target) {
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        if (sigHero) sigHero.textContent = target.toLocaleString();
        if (sigChip) sigChip.textContent = target.toLocaleString();
        return;
      }
      let cur = 0; const step = Math.ceil(target / 50);
      const tick = () => { cur = Math.min(target, cur + step); if (sigHero) sigHero.textContent = cur.toLocaleString(); if (sigChip) sigChip.textContent = cur.toLocaleString(); if (cur < target) requestAnimationFrame(tick); };
      tick();
    }

    const url = "https://donewaiting.us";
    const linkBtn2 = document.getElementById('copyLinkSmall');
    if (linkBtn2) linkBtn2.onclick = async () => { try { await navigator.clipboard.writeText(url); alert('Link copied.'); } catch {} };

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- Live counter fetch -->
  <script>
  async function getCountOnce(path) {
    try {
      const res = await fetch(path, { cache: "no-store" });
      if (!res.ok) throw new Error("bad");
      const data = await res.json();
      return Number(data?.total ?? 0);
    } catch { return null; }
  }
  async function refreshCount() {
    const paths = [
      "https://api.donewaiting.us/api/count",
      "https://api.donewaiting.us/count"
    ];
    for (const p of paths) {
      const n = await getCountOnce(p);
      if (Number.isFinite(n)) { animateCount(n); return; }
    }
    const liveSlot = document.getElementById("sigCountHero");
    if (liveSlot) liveSlot.textContent = "—";
  }
  refreshCount();
</script>
<!-- Done Waiting • Live Counter Widget -->
<style>
  #dw-live { position: fixed; right: 16px; bottom: 16px; z-index: 50;
    width: min(360px, 92vw); border-radius: 14px; padding: 14px 14px 12px;
    background: rgba(12,12,14,.92); color: #f2f2f2; box-shadow: 0 10px 30px rgba(0,0,0,.35);
    border: 1px solid rgba(255,255,255,.12); font: 15px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial;
  }
  #dw-live h3 { margin: 0 0 6px; font-size: 16px; letter-spacing: -.01em }
  #dw-live .muted { color: #c8c8cc; font-size: 13px }
  #dw-live .row { display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap }
  #dw-live .big { font: 700 22px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial }
  #dw-live .goal { font-size: 13px; color: #c8c8cc }
  #dw-live .bar { margin-top: 8px; height: 6px; width: 100%; background: rgba(255,255,255,.08); border-radius: 999px; overflow: hidden }
  #dw-live .bar > i { display: block; height: 100%; width: 0%; background: #ffd166 }
  #dw-live .cta { margin-top: 10px; display: flex; gap: 8px; flex-wrap: wrap }
  #dw-live .cta a { text-decoration: none; padding: 9px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,.18);
    color: #0b0b0c; background: #fff; font-weight: 700 }
  #dw-live .cta button { padding: 9px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,.18);
    background: #1e1e22; color: #f2f2f2 }
  #dw-live .x { position: absolute; top: 6px; right: 8px; background: transparent; border: 0; color: #aaa; font-size: 18px; cursor: pointer }
  @media (max-width: 420px){ #dw-live{ right: 8px; left: 8px; width: auto } }
</style>
<div id="dw-live" role="status" aria-live="polite">
  <button class="x" aria-label="Hide">×</button>
  <h3>Be part of writing America’s history.</h3>
  <div class="row">
    <div class="big"><span id="dw-count">…</span></div>
    <div class="goal">of 25,000,000 signatures</div>
  </div>
  <div class="muted">Petition to Washington: launch a national pilot so every school has a trained, certified safety professional working with mental-health teams.</div>
  <div class="bar"><i id="dw-bar"></i></div>
  <div class="cta">
    <a href="#petition">Add your name</a>
    <button id="dw-copy">Copy message</button>
  </div>
</div>
<script>
(function(){
  const goal = 25_000_000;
  const el = {
    box: document.getElementById('dw-live'),
    count: document.getElementById('dw-count'),
    bar: document.getElementById('dw-bar'),
    copy: document.getElementById('dw-copy'),
  };
  document.querySelector('#dw-live .x')?.addEventListener('click', () => el.box.remove());

  async function getCount(){ try {
    const r = await fetch('https://api.donewaiting.us/api/count',{cache:'no-store'});
    const j = await r.json(); return Number(j.total || 0);
  } catch { return 0; } }

  function animate(from, to, ms){
    const t0 = performance.now();
    const fmt = n => n.toLocaleString('en-US');
    function step(t){
      const k = Math.min(1, (t - t0)/ms);
      const val = Math.round(from + (to - from) * (1 - Math.pow(1 - k, 3))); // ease-out
      el.count.textContent = fmt(val);
      el.bar.style.width = Math.min(100, (val/goal)*100).toFixed(2) + '%';
      if (k < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }

  let last = 0;
  async function refresh(){
    const n = await getCount();
    animate(last, n, 600);
    last = n;
  }
  refresh(); setInterval(refresh, 15000);

  el.copy.addEventListener('click', async () => {
    const total = el.count.textContent || 'thousands';
    const msg = `I just signed a petition urging Washington to launch a national pilot so every school has a trained, certified safety professional working with mental-health teams. Join ${total} others: https://donewaiting.us`;
    try { await navigator.clipboard.writeText(msg); el.copy.textContent = 'Copied'; setTimeout(()=>el.copy.textContent='Copy message',1600); } catch {}
  });
})();
</script>
<!-- /Live Counter Widget -->

</body>
</html>
